<!DOCTYPE html>
<html>
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="demodemo.css">
    <title>DemoDemo</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 

    <script type="text/javascript" src="common/common.js"></script> 
    <script type="text/javascript" src="common/generation.js"></script> 
    <script type="text/javascript" src="common/population.js"></script>
    <script type="text/javascript" src="common/budget.js"></script>
    <script type="text/javascript" src="common/chartPopulation.js"></script>
    <script type="text/javascript" src="common/chartStats.js"></script>
    <script type="text/javascript" src="common/scenario.js"></script>
    <script type="text/javascript" src="scenarios/bacasable.js"></script>
    <script type="text/javascript" src="scenarios/economy.js"></script>    
    <script type="text/javascript" src="scenarios/educrois.js"></script>
    <script type="text/javascript" src="common/demodemo.js"></script> 
    <script>
      window.onload = function() { 
        changeScenario();
      }

      changeScenario = function() {
        try {
          demodemo.destroy();
        } catch (error) {
          console.log("No data to destroy");
        }
        let scenario_id = document.getElementById("selector_scenario").value;
        scenario =  eval(`new ${scenario_id}()`);
        demodemo = new DemoDemo(scenario); 

        document.getElementById("tooltip_scenario").innerHTML = scenario.help;
        document.getElementById("label_description").innerHTML = scenario.description;
      }
    </script>

  </head>
  <body>
    <div>
      <h1>D√©moD√©mo : un d√©monstrateur de d√©mographie √©ducative</h1>
    </div>
    <div class="toolbar">
      <select name="scenario" id="selector_scenario" onchange="changeScenario()">
        <option value="Economy">Economie</option>
        <option value="EduCrois">√âducation et Croissance</option>
        <option value="BacASable">Bac √† sable</option>
      </select>
      <div class="tooltip">‚ùì<span id="tooltip_scenario" class="tooltipbigtext">Tooltip text</span></div>
      <div class="tooltip">
        <input type="button" value="üîÉ" onClick="changeScenario()">
        <span class="tooltiptext">Recommencer le sc√©nario</span>
      </div>
      <label class="description_label" id="label_description">Description</label>
    </div>
    <hr> 
    <div class="toolbar">
      <span id="infos">
        <div class="tooltip">
          <input type="button" value="‚ñ∂Ô∏è" onClick="demodemo.updateData()">
          <span class="tooltiptext">Avancer d'un ann√©e</span>
        </div>        
      </span>
    </div>
    <hr> 
    <div id="inputs">  
    </div>
    <hr> 
    <div>
	    <canvas id="popChart", height="100"></canvas>
    </div>

    <div class="row">
      <div class="column half">
        <canvas id="statsChart", height="100"></canvas>
      </div>
    </div>
    <br/>

    <div class="budget_tables">
      <table class="educationTable" id="educationTable"></table>
      <table class="populationTable" id="populationTable"></table>
    </div>

  
  </body>
</html>